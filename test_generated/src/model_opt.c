#include "model_opt.h"
#include "multiply_inlined.h"

void quantize(byte_t* image){
    for(size_t i = 0; i < 784; i++){
        image->i8[i] = image->u8[i] + (-128);
    }
}

static int32_t multiply_by_quantize_mul(int64_t acc, int32_t q_mantissa, int32_t exp){
    const int32_t reduced_mantissa = q_mantissa < 0x7FFF0000 ? ((q_mantissa + (1 << 15)) >> 16) : 0x7FFF;
    const int64_t total_shifts = 15 - exp;
    const int64_t round = (int64_t)(1) << (total_shifts - 1);
    acc = acc * (int64_t)reduced_mantissa;
    acc = acc + round;
    int32_t result = acc >> total_shifts;
    return result;
}

static int32_t apply_filter_0_convlayer0(int8_t input[1][28][28][1], int out_h, int out_w, int ch_idx) {
    int32_t acc = 0;
    acc += multiply_127(input[0][out_h + 0][out_w + 0][0]);
    acc += multiply_47(input[0][out_h + 0][out_w + 1][0]);
    acc += multiply_69(input[0][out_h + 0][out_w + 2][0]);
    acc += multiply_96(input[0][out_h + 1][out_w + 0][0]);
    acc += multiply_n36(input[0][out_h + 1][out_w + 1][0]);
    acc += multiply_n75(input[0][out_h + 1][out_w + 2][0]);
    acc += multiply_76(input[0][out_h + 2][out_w + 0][0]);
    acc += multiply_32(input[0][out_h + 2][out_w + 1][0]);
    acc += multiply_n43(input[0][out_h + 2][out_w + 2][0]);
    return acc;
}
static int32_t apply_filter_1_convlayer0(int8_t input[1][28][28][1], int out_h, int out_w, int ch_idx) {
    int32_t acc = 0;
    acc += multiply_n32(input[0][out_h + 0][out_w + 0][0]);
    acc += multiply_n10(input[0][out_h + 0][out_w + 1][0]);
    acc += multiply_41(input[0][out_h + 0][out_w + 2][0]);
    acc += multiply_n35(input[0][out_h + 1][out_w + 0][0]);
    acc += multiply_n72(input[0][out_h + 1][out_w + 1][0]);
    acc += multiply_127(input[0][out_h + 1][out_w + 2][0]);
    acc += multiply_n92(input[0][out_h + 2][out_w + 0][0]);
    acc += multiply_n20(input[0][out_h + 2][out_w + 1][0]);
    acc += multiply_80(input[0][out_h + 2][out_w + 2][0]);
    return acc;
}
static int32_t apply_filter_2_convlayer0(int8_t input[1][28][28][1], int out_h, int out_w, int ch_idx) {
    int32_t acc = 0;
    acc += multiply_57(input[0][out_h + 0][out_w + 0][0]);
    acc += multiply_101(input[0][out_h + 0][out_w + 1][0]);
    acc += multiply_41(input[0][out_h + 0][out_w + 2][0]);
    acc += multiply_81(input[0][out_h + 1][out_w + 0][0]);
    acc += multiply_84(input[0][out_h + 1][out_w + 1][0]);
    acc += multiply_127(input[0][out_h + 1][out_w + 2][0]);
    acc += multiply_27(input[0][out_h + 2][out_w + 0][0]);
    acc += multiply_n28(input[0][out_h + 2][out_w + 1][0]);
    acc += multiply_12(input[0][out_h + 2][out_w + 2][0]);
    return acc;
}
static int32_t apply_filter_3_convlayer0(int8_t input[1][28][28][1], int out_h, int out_w, int ch_idx) {
    int32_t acc = 0;
    acc += multiply_127(input[0][out_h + 0][out_w + 0][0]);
    acc += multiply_4(input[0][out_h + 0][out_w + 1][0]);
    acc += multiply_n50(input[0][out_h + 0][out_w + 2][0]);
    acc += multiply_80(input[0][out_h + 1][out_w + 0][0]);
    acc += multiply_n47(input[0][out_h + 1][out_w + 1][0]);
    acc += multiply_n88(input[0][out_h + 1][out_w + 2][0]);
    acc += multiply_48(input[0][out_h + 2][out_w + 0][0]);
    acc += multiply_63(input[0][out_h + 2][out_w + 1][0]);
    acc += multiply_n84(input[0][out_h + 2][out_w + 2][0]);
    return acc;
}
void conv2d_0(int8_t input[1][28][28][1], int8_t output[1][26][26][4]){
    int8_t filter[4][3][3][1] = {
        { { { 127, }, { 47, }, { 69, }, }, { { 96, }, { -36, }, { -75, }, }, { { 76, }, { 32, }, { -43, }, }, },
        { { { -32, }, { -10, }, { 41, }, }, { { -35, }, { -72, }, { 127, }, }, { { -92, }, { -20, }, { 80, }, }, },
        { { { 57, }, { 101, }, { 41, }, }, { { 81, }, { 84, }, { 127, }, }, { { 27, }, { -28, }, { 12, }, }, },
        { { { 127, }, { 4, }, { -50, }, }, { { 80, }, { -47, }, { -88, }, }, { { 48, }, { 63, }, { -84, }, }, },
    };
    const int32_t bias[4] = { 37504, -1664, 64256, 6784, };
    const int8_t output_zero_point = -128;
    const int8_t input_zero_point = -128;
    const int8_t filter_zero_point = 0;
    const int8_t bias_zero_point = 0;
    const int32_t fixed_points[4][2] = {
        { 1847679730, -9 },
        { 1895443745, -10 },
        { 2147030750, -9 },
        { 1734748036, -9 },
    };
    for(int out_h = 0; out_h < 26; out_h++){
        for(int out_w = 0; out_w < 26; out_w++){
            int32_t acc = apply_filter_0_convlayer0(input, out_h, out_w, 0);
            acc += bias[0];
            acc = multiply_by_quantize_mul(acc, fixed_points[0][0], fixed_points[0][1]);
            acc += output_zero_point;
            acc = acc > 127 ? 127 : acc;
            acc = acc < -128 ? -128 : acc;
            output[0][out_h][out_w][0] = acc;
        }
    }
    for(int out_h = 0; out_h < 26; out_h++){
        for(int out_w = 0; out_w < 26; out_w++){
            int32_t acc = apply_filter_1_convlayer0(input, out_h, out_w, 1);
            acc += bias[1];
            acc = multiply_by_quantize_mul(acc, fixed_points[1][0], fixed_points[1][1]);
            acc += output_zero_point;
            acc = acc > 127 ? 127 : acc;
            acc = acc < -128 ? -128 : acc;
            output[0][out_h][out_w][1] = acc;
        }
    }
    for(int out_h = 0; out_h < 26; out_h++){
        for(int out_w = 0; out_w < 26; out_w++){
            int32_t acc = apply_filter_2_convlayer0(input, out_h, out_w, 2);
            acc += bias[2];
            acc = multiply_by_quantize_mul(acc, fixed_points[2][0], fixed_points[2][1]);
            acc += output_zero_point;
            acc = acc > 127 ? 127 : acc;
            acc = acc < -128 ? -128 : acc;
            output[0][out_h][out_w][2] = acc;
        }
    }
    for(int out_h = 0; out_h < 26; out_h++){
        for(int out_w = 0; out_w < 26; out_w++){
            int32_t acc = apply_filter_3_convlayer0(input, out_h, out_w, 3);
            acc += bias[3];
            acc = multiply_by_quantize_mul(acc, fixed_points[3][0], fixed_points[3][1]);
            acc += output_zero_point;
            acc = acc > 127 ? 127 : acc;
            acc = acc < -128 ? -128 : acc;
            output[0][out_h][out_w][3] = acc;
        }
    }
}

void max_pool2d_0(int8_t input[1][26][26][4], int8_t output[1][13][13][4]){
    for(int i = 0; i < 1; i++){
        for(int j = 0; j < 13; j++){
            for(int k = 0; k < 13; k++){
                for(int l = 0; l < 4; l++){
                    int8_t max = input[i][j*2][k*2][l];
                    max = input[i][j*2][k*2+1][l] > max ? input[i][j*2][k*2+1][l] : max;
                    max = input[i][j*2+1][k*2][l] > max ? input[i][j*2+1][k*2][l] : max;
                    max = input[i][j*2+1][k*2+1][l] > max ? input[i][j*2+1][k*2+1][l] : max;
                    output[i][j][k][l] = max;
                }
            }
        }
    }
}

static int32_t apply_filter_0_convlayer1(int8_t input[1][13][13][4], int out_h, int out_w, int ch_idx) {
    int32_t acc = 0;
    acc += multiply_127(input[0][out_h + 0][out_w + 0][0]);
    acc += multiply_n33(input[0][out_h + 0][out_w + 1][0]);
    acc += multiply_33(input[0][out_h + 1][out_w + 0][0]);
    acc += multiply_39(input[0][out_h + 1][out_w + 1][0]);
    acc += multiply_55(input[0][out_h + 0][out_w + 0][1]);
    acc += multiply_n56(input[0][out_h + 0][out_w + 1][1]);
    acc += multiply_n60(input[0][out_h + 1][out_w + 0][1]);
    acc += multiply_n25(input[0][out_h + 1][out_w + 1][1]);
    acc += multiply_73(input[0][out_h + 0][out_w + 0][2]);
    acc += multiply_n74(input[0][out_h + 0][out_w + 1][2]);
    acc += multiply_97(input[0][out_h + 1][out_w + 0][2]);
    acc += multiply_85(input[0][out_h + 1][out_w + 1][2]);
    acc += multiply_106(input[0][out_h + 0][out_w + 0][3]);
    acc += multiply_63(input[0][out_h + 0][out_w + 1][3]);
    acc += multiply_18(input[0][out_h + 1][out_w + 0][3]);
    acc += multiply_n28(input[0][out_h + 1][out_w + 1][3]);
    return acc;
}
static int32_t apply_filter_1_convlayer1(int8_t input[1][13][13][4], int out_h, int out_w, int ch_idx) {
    int32_t acc = 0;
    acc += multiply_n81(input[0][out_h + 0][out_w + 0][0]);
    acc += multiply_n83(input[0][out_h + 0][out_w + 1][0]);
    acc += multiply_71(input[0][out_h + 1][out_w + 0][0]);
    acc += multiply_56(input[0][out_h + 1][out_w + 1][0]);
    acc += multiply_4(input[0][out_h + 0][out_w + 0][1]);
    acc += multiply_n16(input[0][out_h + 0][out_w + 1][1]);
    acc += multiply_n29(input[0][out_h + 1][out_w + 0][1]);
    acc += multiply_n44(input[0][out_h + 1][out_w + 1][1]);
    acc += multiply_n79(input[0][out_h + 0][out_w + 0][2]);
    acc += multiply_n35(input[0][out_h + 0][out_w + 1][2]);
    acc += multiply_127(input[0][out_h + 1][out_w + 0][2]);
    acc += multiply_90(input[0][out_h + 1][out_w + 1][2]);
    acc += multiply_n75(input[0][out_h + 0][out_w + 0][3]);
    acc += multiply_n103(input[0][out_h + 0][out_w + 1][3]);
    acc += multiply_31(input[0][out_h + 1][out_w + 0][3]);
    acc += multiply_n12(input[0][out_h + 1][out_w + 1][3]);
    return acc;
}
void conv2d_1(int8_t input[1][13][13][4], int8_t output[1][12][12][2]){
    int8_t filter[2][2][2][4] = {
        { { { 127, 55, 73, 106, }, { -33, -56, -74, 63, }, }, { { 33, -60, 97, 18, }, { 39, -25, 85, -28, }, }, },
        { { { -81, 4, -79, -75, }, { -83, -16, -35, -103, }, }, { { 71, -29, 127, 31, }, { 56, -44, 90, -12, }, }, },
    };
    const int32_t bias[2] = { 53760, -22784, };
    const int8_t output_zero_point = -128;
    const int8_t input_zero_point = -128;
    const int8_t filter_zero_point = 0;
    const int8_t bias_zero_point = 0;
    const int32_t fixed_points[2][2] = {
        { 1475699733, -8 },
        { 1878952878, -8 },
    };
    for(int out_h = 0; out_h < 12; out_h++){
        for(int out_w = 0; out_w < 12; out_w++){
            int32_t acc = apply_filter_0_convlayer1(input, out_h, out_w, 0);
            acc += bias[0];
            acc = multiply_by_quantize_mul(acc, fixed_points[0][0], fixed_points[0][1]);
            acc += output_zero_point;
            acc = acc > 127 ? 127 : acc;
            acc = acc < -128 ? -128 : acc;
            output[0][out_h][out_w][0] = acc;
        }
    }
    for(int out_h = 0; out_h < 12; out_h++){
        for(int out_w = 0; out_w < 12; out_w++){
            int32_t acc = apply_filter_1_convlayer1(input, out_h, out_w, 1);
            acc += bias[1];
            acc = multiply_by_quantize_mul(acc, fixed_points[1][0], fixed_points[1][1]);
            acc += output_zero_point;
            acc = acc > 127 ? 127 : acc;
            acc = acc < -128 ? -128 : acc;
            output[0][out_h][out_w][1] = acc;
        }
    }
}

void max_pool2d_1(int8_t input[1][12][12][2], int8_t output[1][6][6][2]){
    for(int i = 0; i < 1; i++){
        for(int j = 0; j < 6; j++){
            for(int k = 0; k < 6; k++){
                for(int l = 0; l < 2; l++){
                    int8_t max = input[i][j*2][k*2][l];
                    max = input[i][j*2][k*2+1][l] > max ? input[i][j*2][k*2+1][l] : max;
                    max = input[i][j*2+1][k*2][l] > max ? input[i][j*2+1][k*2][l] : max;
                    max = input[i][j*2+1][k*2+1][l] > max ? input[i][j*2+1][k*2+1][l] : max;
                    output[i][j][k][l] = max;
                }
            }
        }
    }
}


static void dot_product(int8_t input[1][72], int32_t out[10]){
    out[0] = 0;
    out[0] += multiply_29(input[0][0]);
    out[0] += multiply_n14(input[0][1]);
    out[0] += multiply_n9(input[0][2]);
    out[0] += multiply_18(input[0][3]);
    out[0] += multiply_3(input[0][4]);
    out[0] += multiply_n40(input[0][5]);
    out[0] += multiply_22(input[0][6]);
    out[0] += multiply_15(input[0][7]);
    out[0] += multiply_4(input[0][8]);
    out[0] += multiply_n15(input[0][9]);
    out[0] += multiply_5(input[0][10]);
    out[0] += multiply_n21(input[0][11]);
    out[0] += multiply_n35(input[0][12]);
    out[0] += multiply_15(input[0][13]);
    out[0] += multiply_n32(input[0][14]);
    out[0] += multiply_2(input[0][15]);
    out[0] += multiply_n9(input[0][16]);
    out[0] += multiply_2(input[0][17]);
    out[0] += multiply_34(input[0][18]);
    out[0] += multiply_n22(input[0][19]);
    out[0] += multiply_50(input[0][20]);
    out[0] += multiply_3(input[0][21]);
    out[0] += multiply_14(input[0][22]);
    out[0] += multiply_16(input[0][23]);
    out[0] += multiply_n17(input[0][24]);
    out[0] += multiply_23(input[0][25]);
    out[0] += multiply_10(input[0][26]);
    out[0] += multiply_20(input[0][27]);
    out[0] += multiply_33(input[0][28]);
    out[0] += multiply_n26(input[0][29]);
    out[0] += multiply_n4(input[0][30]);
    out[0] += multiply_n82(input[0][31]);
    out[0] += multiply_n11(input[0][32]);
    out[0] += multiply_n51(input[0][33]);
    out[0] += multiply_37(input[0][34]);
    out[0] += multiply_33(input[0][36]);
    out[0] += multiply_n16(input[0][37]);
    out[0] += multiply_11(input[0][38]);
    out[0] += multiply_n2(input[0][39]);
    out[0] += multiply_34(input[0][40]);
    out[0] += multiply_n53(input[0][41]);
    out[0] += multiply_n127(input[0][42]);
    out[0] += multiply_n19(input[0][43]);
    out[0] += multiply_n28(input[0][44]);
    out[0] += multiply_23(input[0][45]);
    out[0] += multiply_39(input[0][46]);
    out[0] += multiply_n2(input[0][47]);
    out[0] += multiply_27(input[0][48]);
    out[0] += multiply_n27(input[0][49]);
    out[0] += multiply_16(input[0][50]);
    out[0] += multiply_n48(input[0][51]);
    out[0] += multiply_51(input[0][52]);
    out[0] += multiply_n7(input[0][53]);
    out[0] += multiply_n2(input[0][54]);
    out[0] += multiply_37(input[0][55]);
    out[0] += multiply_12(input[0][56]);
    out[0] += multiply_10(input[0][57]);
    out[0] += multiply_n16(input[0][58]);
    out[0] += multiply_n36(input[0][59]);
    out[0] += multiply_n10(input[0][60]);
    out[0] += multiply_18(input[0][61]);
    out[0] += multiply_20(input[0][62]);
    out[0] += multiply_5(input[0][63]);
    out[0] += multiply_64(input[0][64]);
    out[0] += multiply_4(input[0][65]);
    out[0] += multiply_n25(input[0][66]);
    out[0] += multiply_n2(input[0][67]);
    out[0] += multiply_n23(input[0][68]);
    out[0] += multiply_n27(input[0][69]);
    out[0] += multiply_15(input[0][70]);
    out[0] += multiply_32(input[0][71]);
    out[1] = 0;
    out[1] += multiply_n3(input[0][0]);
    out[1] += multiply_10(input[0][1]);
    out[1] += multiply_22(input[0][2]);
    out[1] += multiply_n5(input[0][3]);
    out[1] += multiply_24(input[0][4]);
    out[1] += multiply_n24(input[0][5]);
    out[1] += multiply_19(input[0][6]);
    out[1] += multiply_n40(input[0][7]);
    out[1] += multiply_12(input[0][8]);
    out[1] += multiply_n18(input[0][9]);
    out[1] += multiply_n16(input[0][10]);
    out[1] += multiply_41(input[0][11]);
    out[1] += multiply_n10(input[0][12]);
    out[1] += multiply_38(input[0][13]);
    out[1] += multiply_16(input[0][14]);
    out[1] += multiply_n20(input[0][15]);
    out[1] += multiply_n30(input[0][16]);
    out[1] += multiply_n17(input[0][17]);
    out[1] += multiply_14(input[0][18]);
    out[1] += multiply_n15(input[0][19]);
    out[1] += multiply_n37(input[0][20]);
    out[1] += multiply_n53(input[0][21]);
    out[1] += multiply_19(input[0][22]);
    out[1] += multiply_n32(input[0][23]);
    out[1] += multiply_26(input[0][24]);
    out[1] += multiply_25(input[0][25]);
    out[1] += multiply_n10(input[0][26]);
    out[1] += multiply_n31(input[0][27]);
    out[1] += multiply_n43(input[0][28]);
    out[1] += multiply_20(input[0][29]);
    out[1] += multiply_90(input[0][30]);
    out[1] += multiply_19(input[0][31]);
    out[1] += multiply_18(input[0][32]);
    out[1] += multiply_n69(input[0][33]);
    out[1] += multiply_n59(input[0][34]);
    out[1] += multiply_n34(input[0][35]);
    out[1] += multiply_26(input[0][36]);
    out[1] += multiply_n1(input[0][37]);
    out[1] += multiply_n38(input[0][38]);
    out[1] += multiply_n27(input[0][39]);
    out[1] += multiply_n14(input[0][40]);
    out[1] += multiply_n20(input[0][41]);
    out[1] += multiply_72(input[0][42]);
    out[1] += multiply_n17(input[0][43]);
    out[1] += multiply_n41(input[0][44]);
    out[1] += multiply_n66(input[0][45]);
    out[1] += multiply_n16(input[0][46]);
    out[1] += multiply_23(input[0][47]);
    out[1] += multiply_12(input[0][48]);
    out[1] += multiply_n9(input[0][49]);
    out[1] += multiply_n3(input[0][50]);
    out[1] += multiply_n13(input[0][52]);
    out[1] += multiply_17(input[0][53]);
    out[1] += multiply_91(input[0][54]);
    out[1] += multiply_n37(input[0][55]);
    out[1] += multiply_n42(input[0][56]);
    out[1] += multiply_n5(input[0][57]);
    out[1] += multiply_n5(input[0][58]);
    out[1] += multiply_n25(input[0][59]);
    out[1] += multiply_6(input[0][60]);
    out[1] += multiply_n10(input[0][61]);
    out[1] += multiply_27(input[0][62]);
    out[1] += multiply_n1(input[0][63]);
    out[1] += multiply_12(input[0][64]);
    out[1] += multiply_n18(input[0][65]);
    out[1] += multiply_n42(input[0][66]);
    out[1] += multiply_n13(input[0][67]);
    out[1] += multiply_39(input[0][68]);
    out[1] += multiply_7(input[0][69]);
    out[1] += multiply_43(input[0][70]);
    out[1] += multiply_n18(input[0][71]);
    out[2] = 0;
    out[2] += multiply_n5(input[0][0]);
    out[2] += multiply_n4(input[0][1]);
    out[2] += multiply_8(input[0][2]);
    out[2] += multiply_2(input[0][3]);
    out[2] += multiply_n2(input[0][4]);
    out[2] += multiply_11(input[0][5]);
    out[2] += multiply_12(input[0][6]);
    out[2] += multiply_5(input[0][7]);
    out[2] += multiply_n17(input[0][8]);
    out[2] += multiply_n19(input[0][9]);
    out[2] += multiply_n12(input[0][10]);
    out[2] += multiply_n22(input[0][11]);
    out[2] += multiply_19(input[0][12]);
    out[2] += multiply_30(input[0][13]);
    out[2] += multiply_29(input[0][14]);
    out[2] += multiply_22(input[0][15]);
    out[2] += multiply_38(input[0][16]);
    out[2] += multiply_n13(input[0][17]);
    out[2] += multiply_13(input[0][18]);
    out[2] += multiply_n24(input[0][19]);
    out[2] += multiply_5(input[0][20]);
    out[2] += multiply_n44(input[0][21]);
    out[2] += multiply_n4(input[0][22]);
    out[2] += multiply_n32(input[0][23]);
    out[2] += multiply_2(input[0][24]);
    out[2] += multiply_n32(input[0][25]);
    out[2] += multiply_n36(input[0][26]);
    out[2] += multiply_53(input[0][27]);
    out[2] += multiply_n80(input[0][28]);
    out[2] += multiply_34(input[0][29]);
    out[2] += multiply_n45(input[0][30]);
    out[2] += multiply_10(input[0][31]);
    out[2] += multiply_5(input[0][32]);
    out[2] += multiply_n27(input[0][33]);
    out[2] += multiply_33(input[0][34]);
    out[2] += multiply_n32(input[0][35]);
    out[2] += multiply_8(input[0][36]);
    out[2] += multiply_48(input[0][37]);
    out[2] += multiply_n72(input[0][38]);
    out[2] += multiply_54(input[0][39]);
    out[2] += multiply_n18(input[0][40]);
    out[2] += multiply_40(input[0][41]);
    out[2] += multiply_17(input[0][42]);
    out[2] += multiply_59(input[0][43]);
    out[2] += multiply_n5(input[0][44]);
    out[2] += multiply_n5(input[0][45]);
    out[2] += multiply_n23(input[0][46]);
    out[2] += multiply_80(input[0][47]);
    out[2] += multiply_31(input[0][48]);
    out[2] += multiply_16(input[0][49]);
    out[2] += multiply_36(input[0][50]);
    out[2] += multiply_n15(input[0][51]);
    out[2] += multiply_44(input[0][52]);
    out[2] += multiply_17(input[0][53]);
    out[2] += multiply_26(input[0][54]);
    out[2] += multiply_14(input[0][55]);
    out[2] += multiply_n9(input[0][56]);
    out[2] += multiply_55(input[0][57]);
    out[2] += multiply_9(input[0][58]);
    out[2] += multiply_91(input[0][59]);
    out[2] += multiply_n15(input[0][60]);
    out[2] += multiply_n22(input[0][61]);
    out[2] += multiply_n3(input[0][62]);
    out[2] += multiply_16(input[0][63]);
    out[2] += multiply_11(input[0][64]);
    out[2] += multiply_8(input[0][65]);
    out[2] += multiply_n41(input[0][66]);
    out[2] += multiply_6(input[0][67]);
    out[2] += multiply_4(input[0][68]);
    out[2] += multiply_n4(input[0][69]);
    out[2] += multiply_3(input[0][70]);
    out[2] += multiply_n12(input[0][71]);
    out[3] = 0;
    out[3] += multiply_n25(input[0][0]);
    out[3] += multiply_45(input[0][1]);
    out[3] += multiply_n1(input[0][2]);
    out[3] += multiply_25(input[0][3]);
    out[3] += multiply_12(input[0][4]);
    out[3] += multiply_22(input[0][5]);
    out[3] += multiply_9(input[0][6]);
    out[3] += multiply_n15(input[0][7]);
    out[3] += multiply_n34(input[0][8]);
    out[3] += multiply_n29(input[0][9]);
    out[3] += multiply_n37(input[0][10]);
    out[3] += multiply_n37(input[0][11]);
    out[3] += multiply_33(input[0][12]);
    out[3] += multiply_38(input[0][13]);
    out[3] += multiply_39(input[0][14]);
    out[3] += multiply_21(input[0][15]);
    out[3] += multiply_n8(input[0][16]);
    out[3] += multiply_31(input[0][17]);
    out[3] += multiply_12(input[0][18]);
    out[3] += multiply_14(input[0][19]);
    out[3] += multiply_41(input[0][20]);
    out[3] += multiply_n45(input[0][21]);
    out[3] += multiply_31(input[0][22]);
    out[3] += multiply_n50(input[0][23]);
    out[3] += multiply_n9(input[0][24]);
    out[3] += multiply_n35(input[0][25]);
    out[3] += multiply_n74(input[0][26]);
    out[3] += multiply_37(input[0][27]);
    out[3] += multiply_n95(input[0][28]);
    out[3] += multiply_81(input[0][29]);
    out[3] += multiply_47(input[0][30]);
    out[3] += multiply_59(input[0][31]);
    out[3] += multiply_n6(input[0][32]);
    out[3] += multiply_3(input[0][33]);
    out[3] += multiply_n21(input[0][34]);
    out[3] += multiply_n28(input[0][35]);
    out[3] += multiply_30(input[0][36]);
    out[3] += multiply_17(input[0][37]);
    out[3] += multiply_n53(input[0][38]);
    out[3] += multiply_22(input[0][39]);
    out[3] += multiply_n27(input[0][40]);
    out[3] += multiply_n17(input[0][41]);
    out[3] += multiply_n8(input[0][42]);
    out[3] += multiply_19(input[0][43]);
    out[3] += multiply_5(input[0][44]);
    out[3] += multiply_5(input[0][45]);
    out[3] += multiply_n13(input[0][46]);
    out[3] += multiply_32(input[0][47]);
    out[3] += multiply_49(input[0][48]);
    out[3] += multiply_3(input[0][49]);
    out[3] += multiply_13(input[0][50]);
    out[3] += multiply_19(input[0][51]);
    out[3] += multiply_n49(input[0][52]);
    out[3] += multiply_52(input[0][53]);
    out[3] += multiply_n52(input[0][54]);
    out[3] += multiply_59(input[0][55]);
    out[3] += multiply_35(input[0][56]);
    out[3] += multiply_38(input[0][57]);
    out[3] += multiply_n2(input[0][58]);
    out[3] += multiply_n55(input[0][59]);
    out[3] += multiply_61(input[0][60]);
    out[3] += multiply_n15(input[0][61]);
    out[3] += multiply_11(input[0][62]);
    out[3] += multiply_24(input[0][63]);
    out[3] += multiply_5(input[0][64]);
    out[3] += multiply_65(input[0][65]);
    out[3] += multiply_8(input[0][66]);
    out[3] += multiply_8(input[0][67]);
    out[3] += multiply_15(input[0][68]);
    out[3] += multiply_9(input[0][69]);
    out[3] += multiply_8(input[0][70]);
    out[3] += multiply_n8(input[0][71]);
    out[4] = 0;
    out[4] += multiply_n7(input[0][0]);
    out[4] += multiply_11(input[0][1]);
    out[4] += multiply_n32(input[0][2]);
    out[4] += multiply_41(input[0][3]);
    out[4] += multiply_n19(input[0][4]);
    out[4] += multiply_n22(input[0][5]);
    out[4] += multiply_n25(input[0][6]);
    out[4] += multiply_n22(input[0][7]);
    out[4] += multiply_15(input[0][8]);
    out[4] += multiply_30(input[0][10]);
    out[4] += multiply_21(input[0][11]);
    out[4] += multiply_6(input[0][12]);
    out[4] += multiply_26(input[0][13]);
    out[4] += multiply_n14(input[0][14]);
    out[4] += multiply_n41(input[0][15]);
    out[4] += multiply_37(input[0][16]);
    out[4] += multiply_n55(input[0][17]);
    out[4] += multiply_n7(input[0][18]);
    out[4] += multiply_n105(input[0][19]);
    out[4] += multiply_n19(input[0][20]);
    out[4] += multiply_21(input[0][22]);
    out[4] += multiply_10(input[0][23]);
    out[4] += multiply_21(input[0][24]);
    out[4] += multiply_n41(input[0][25]);
    out[4] += multiply_14(input[0][26]);
    out[4] += multiply_6(input[0][27]);
    out[4] += multiply_101(input[0][28]);
    out[4] += multiply_n13(input[0][29]);
    out[4] += multiply_n7(input[0][30]);
    out[4] += multiply_n11(input[0][31]);
    out[4] += multiply_72(input[0][32]);
    out[4] += multiply_n30(input[0][33]);
    out[4] += multiply_n11(input[0][34]);
    out[4] += multiply_5(input[0][35]);
    out[4] += multiply_21(input[0][36]);
    out[4] += multiply_10(input[0][37]);
    out[4] += multiply_51(input[0][38]);
    out[4] += multiply_n12(input[0][39]);
    out[4] += multiply_52(input[0][40]);
    out[4] += multiply_n12(input[0][41]);
    out[4] += multiply_10(input[0][42]);
    out[4] += multiply_33(input[0][43]);
    out[4] += multiply_65(input[0][44]);
    out[4] += multiply_n12(input[0][45]);
    out[4] += multiply_19(input[0][46]);
    out[4] += multiply_4(input[0][47]);
    out[4] += multiply_n26(input[0][48]);
    out[4] += multiply_n40(input[0][49]);
    out[4] += multiply_n45(input[0][50]);
    out[4] += multiply_n2(input[0][51]);
    out[4] += multiply_n68(input[0][52]);
    out[4] += multiply_n8(input[0][53]);
    out[4] += multiply_n10(input[0][54]);
    out[4] += multiply_n41(input[0][55]);
    out[4] += multiply_n52(input[0][56]);
    out[4] += multiply_n64(input[0][57]);
    out[4] += multiply_n23(input[0][58]);
    out[4] += multiply_13(input[0][59]);
    out[4] += multiply_34(input[0][60]);
    out[4] += multiply_n14(input[0][61]);
    out[4] += multiply_n41(input[0][62]);
    out[4] += multiply_30(input[0][63]);
    out[4] += multiply_n10(input[0][64]);
    out[4] += multiply_27(input[0][65]);
    out[4] += multiply_8(input[0][66]);
    out[4] += multiply_n63(input[0][67]);
    out[4] += multiply_17(input[0][68]);
    out[4] += multiply_16(input[0][69]);
    out[4] += multiply_21(input[0][70]);
    out[4] += multiply_34(input[0][71]);
    out[5] = 0;
    out[5] += multiply_25(input[0][0]);
    out[5] += multiply_n27(input[0][1]);
    out[5] += multiply_n1(input[0][2]);
    out[5] += multiply_4(input[0][3]);
    out[5] += multiply_3(input[0][4]);
    out[5] += multiply_n5(input[0][5]);
    out[5] += multiply_n45(input[0][6]);
    out[5] += multiply_16(input[0][7]);
    out[5] += multiply_35(input[0][8]);
    out[5] += multiply_n15(input[0][9]);
    out[5] += multiply_n14(input[0][10]);
    out[5] += multiply_35(input[0][11]);
    out[5] += multiply_n18(input[0][12]);
    out[5] += multiply_23(input[0][13]);
    out[5] += multiply_n13(input[0][14]);
    out[5] += multiply_n21(input[0][15]);
    out[5] += multiply_37(input[0][16]);
    out[5] += multiply_19(input[0][17]);
    out[5] += multiply_18(input[0][18]);
    out[5] += multiply_2(input[0][19]);
    out[5] += multiply_n7(input[0][20]);
    out[5] += multiply_14(input[0][21]);
    out[5] += multiply_20(input[0][22]);
    out[5] += multiply_118(input[0][23]);
    out[5] += multiply_n18(input[0][24]);
    out[5] += multiply_n21(input[0][25]);
    out[5] += multiply_10(input[0][26]);
    out[5] += multiply_n48(input[0][27]);
    out[5] += multiply_88(input[0][28]);
    out[5] += multiply_5(input[0][29]);
    out[5] += multiply_29(input[0][30]);
    out[5] += multiply_36(input[0][31]);
    out[5] += multiply_n92(input[0][32]);
    out[5] += multiply_43(input[0][33]);
    out[5] += multiply_n115(input[0][34]);
    out[5] += multiply_66(input[0][35]);
    out[5] += multiply_23(input[0][36]);
    out[5] += multiply_21(input[0][37]);
    out[5] += multiply_18(input[0][38]);
    out[5] += multiply_n21(input[0][39]);
    out[5] += multiply_10(input[0][40]);
    out[5] += multiply_n40(input[0][41]);
    out[5] += multiply_n52(input[0][42]);
    out[5] += multiply_n1(input[0][43]);
    out[5] += multiply_n39(input[0][44]);
    out[5] += multiply_n31(input[0][45]);
    out[5] += multiply_n39(input[0][46]);
    out[5] += multiply_n3(input[0][47]);
    out[5] += multiply_8(input[0][48]);
    out[5] += multiply_26(input[0][49]);
    out[5] += multiply_16(input[0][50]);
    out[5] += multiply_70(input[0][51]);
    out[5] += multiply_n31(input[0][52]);
    out[5] += multiply_63(input[0][53]);
    out[5] += multiply_n15(input[0][54]);
    out[5] += multiply_53(input[0][55]);
    out[5] += multiply_n2(input[0][56]);
    out[5] += multiply_n1(input[0][57]);
    out[5] += multiply_52(input[0][58]);
    out[5] += multiply_5(input[0][59]);
    out[5] += multiply_n26(input[0][60]);
    out[5] += multiply_17(input[0][61]);
    out[5] += multiply_n51(input[0][62]);
    out[5] += multiply_24(input[0][63]);
    out[5] += multiply_5(input[0][64]);
    out[5] += multiply_63(input[0][65]);
    out[5] += multiply_n1(input[0][66]);
    out[5] += multiply_53(input[0][67]);
    out[5] += multiply_13(input[0][68]);
    out[5] += multiply_n2(input[0][69]);
    out[5] += multiply_3(input[0][70]);
    out[5] += multiply_7(input[0][71]);
    out[6] = 0;
    out[6] += multiply_n37(input[0][0]);
    out[6] += multiply_n7(input[0][1]);
    out[6] += multiply_13(input[0][2]);
    out[6] += multiply_n1(input[0][3]);
    out[6] += multiply_12(input[0][4]);
    out[6] += multiply_n23(input[0][5]);
    out[6] += multiply_9(input[0][6]);
    out[6] += input[0][7];
    out[6] += multiply_52(input[0][8]);
    out[6] += multiply_n18(input[0][9]);
    out[6] += multiply_36(input[0][10]);
    out[6] += multiply_29(input[0][11]);
    out[6] += multiply_18(input[0][12]);
    out[6] += multiply_n15(input[0][13]);
    out[6] += input[0][14];
    out[6] += multiply_n57(input[0][15]);
    out[6] += multiply_n21(input[0][16]);
    out[6] += multiply_7(input[0][17]);
    out[6] += multiply_n41(input[0][18]);
    out[6] += multiply_n1(input[0][19]);
    out[6] += multiply_n57(input[0][20]);
    out[6] += multiply_n21(input[0][21]);
    out[6] += multiply_n31(input[0][22]);
    out[6] += multiply_4(input[0][23]);
    out[6] += multiply_14(input[0][24]);
    out[6] += multiply_n21(input[0][25]);
    out[6] += multiply_n3(input[0][26]);
    out[6] += multiply_5(input[0][27]);
    out[6] += multiply_36(input[0][28]);
    out[6] += multiply_n27(input[0][29]);
    out[6] += multiply_n12(input[0][30]);
    out[6] += multiply_42(input[0][31]);
    out[6] += multiply_n86(input[0][32]);
    out[6] += multiply_36(input[0][33]);
    out[6] += multiply_22(input[0][34]);
    out[6] += multiply_n44(input[0][36]);
    out[6] += multiply_n8(input[0][37]);
    out[6] += multiply_18(input[0][38]);
    out[6] += multiply_n38(input[0][39]);
    out[6] += multiply_37(input[0][40]);
    out[6] += multiply_n7(input[0][41]);
    out[6] += multiply_18(input[0][42]);
    out[6] += multiply_11(input[0][43]);
    out[6] += multiply_n19(input[0][44]);
    out[6] += multiply_n12(input[0][45]);
    out[6] += multiply_25(input[0][46]);
    out[6] += multiply_n23(input[0][47]);
    out[6] += multiply_n15(input[0][48]);
    out[6] += multiply_n50(input[0][49]);
    out[6] += multiply_14(input[0][50]);
    out[6] += multiply_n73(input[0][51]);
    out[6] += multiply_104(input[0][52]);
    out[6] += multiply_n23(input[0][53]);
    out[6] += multiply_56(input[0][54]);
    out[6] += multiply_49(input[0][55]);
    out[6] += multiply_26(input[0][56]);
    out[6] += multiply_18(input[0][57]);
    out[6] += multiply_24(input[0][58]);
    out[6] += multiply_n40(input[0][59]);
    out[6] += multiply_n6(input[0][60]);
    out[6] += multiply_20(input[0][61]);
    out[6] += multiply_n49(input[0][62]);
    out[6] += multiply_n31(input[0][63]);
    out[6] += multiply_9(input[0][64]);
    out[6] += multiply_n46(input[0][65]);
    out[6] += multiply_n46(input[0][66]);
    out[6] += multiply_n40(input[0][67]);
    out[6] += multiply_n8(input[0][68]);
    out[6] += multiply_n9(input[0][69]);
    out[6] += multiply_n19(input[0][70]);
    out[6] += multiply_n17(input[0][71]);
    out[7] = 0;
    out[7] += multiply_n5(input[0][0]);
    out[7] += multiply_7(input[0][1]);
    out[7] += input[0][2];
    out[7] += multiply_15(input[0][3]);
    out[7] += multiply_16(input[0][4]);
    out[7] += multiply_n27(input[0][5]);
    out[7] += multiply_n21(input[0][6]);
    out[7] += multiply_n24(input[0][7]);
    out[7] += multiply_n69(input[0][8]);
    out[7] += multiply_n3(input[0][9]);
    out[7] += multiply_n35(input[0][10]);
    out[7] += multiply_n11(input[0][11]);
    out[7] += multiply_43(input[0][12]);
    out[7] += multiply_n11(input[0][13]);
    out[7] += multiply_49(input[0][14]);
    out[7] += multiply_22(input[0][15]);
    out[7] += multiply_71(input[0][16]);
    out[7] += multiply_25(input[0][17]);
    out[7] += multiply_49(input[0][18]);
    out[7] += multiply_37(input[0][19]);
    out[7] += multiply_28(input[0][20]);
    out[7] += multiply_32(input[0][21]);
    out[7] += multiply_26(input[0][22]);
    out[7] += multiply_n9(input[0][23]);
    out[7] += multiply_52(input[0][24]);
    out[7] += multiply_n17(input[0][25]);
    out[7] += multiply_n1(input[0][26]);
    out[7] += input[0][27];
    out[7] += multiply_n55(input[0][28]);
    out[7] += multiply_2(input[0][29]);
    out[7] += multiply_n10(input[0][30]);
    out[7] += multiply_n27(input[0][31]);
    out[7] += multiply_91(input[0][32]);
    out[7] += multiply_n17(input[0][33]);
    out[7] += multiply_n13(input[0][34]);
    out[7] += multiply_n10(input[0][35]);
    out[7] += multiply_2(input[0][36]);
    out[7] += multiply_n10(input[0][37]);
    out[7] += multiply_n6(input[0][38]);
    out[7] += input[0][39];
    out[7] += multiply_n86(input[0][40]);
    out[7] += multiply_n29(input[0][41]);
    out[7] += multiply_n58(input[0][42]);
    out[7] += multiply_40(input[0][43]);
    out[7] += multiply_76(input[0][44]);
    out[7] += multiply_n13(input[0][45]);
    out[7] += multiply_19(input[0][46]);
    out[7] += multiply_n18(input[0][47]);
    out[7] += multiply_20(input[0][48]);
    out[7] += multiply_14(input[0][49]);
    out[7] += multiply_n42(input[0][50]);
    out[7] += multiply_n25(input[0][51]);
    out[7] += multiply_n33(input[0][52]);
    out[7] += multiply_n2(input[0][53]);
    out[7] += multiply_n18(input[0][54]);
    out[7] += multiply_n42(input[0][55]);
    out[7] += multiply_n40(input[0][56]);
    out[7] += multiply_n32(input[0][57]);
    out[7] += multiply_n19(input[0][58]);
    out[7] += multiply_n51(input[0][59]);
    out[7] += multiply_n28(input[0][60]);
    out[7] += multiply_n24(input[0][61]);
    out[7] += multiply_24(input[0][62]);
    out[7] += multiply_62(input[0][63]);
    out[7] += multiply_n6(input[0][64]);
    out[7] += multiply_10(input[0][65]);
    out[7] += multiply_43(input[0][66]);
    out[7] += multiply_n30(input[0][67]);
    out[7] += multiply_n21(input[0][68]);
    out[7] += multiply_n20(input[0][69]);
    out[7] += multiply_n42(input[0][70]);
    out[7] += multiply_34(input[0][71]);
    out[8] = 0;
    out[8] += multiply_n38(input[0][0]);
    out[8] += multiply_n13(input[0][1]);
    out[8] += multiply_27(input[0][2]);
    out[8] += multiply_n10(input[0][3]);
    out[8] += multiply_n7(input[0][4]);
    out[8] += multiply_8(input[0][5]);
    out[8] += multiply_9(input[0][6]);
    out[8] += multiply_8(input[0][7]);
    out[8] += multiply_n11(input[0][8]);
    out[8] += multiply_23(input[0][9]);
    out[8] += multiply_n4(input[0][10]);
    out[8] += multiply_n6(input[0][11]);
    out[8] += multiply_n19(input[0][12]);
    out[8] += multiply_40(input[0][13]);
    out[8] += multiply_18(input[0][14]);
    out[8] += multiply_n6(input[0][15]);
    out[8] += multiply_n5(input[0][16]);
    out[8] += multiply_19(input[0][17]);
    out[8] += multiply_n16(input[0][18]);
    out[8] += multiply_n25(input[0][19]);
    out[8] += multiply_n11(input[0][20]);
    out[8] += multiply_n11(input[0][21]);
    out[8] += multiply_5(input[0][22]);
    out[8] += multiply_51(input[0][23]);
    out[8] += multiply_5(input[0][24]);
    out[8] += multiply_n3(input[0][25]);
    out[8] += multiply_22(input[0][26]);
    out[8] += multiply_n36(input[0][27]);
    out[8] += multiply_62(input[0][28]);
    out[8] += multiply_n38(input[0][29]);
    out[8] += multiply_n10(input[0][30]);
    out[8] += multiply_33(input[0][31]);
    out[8] += multiply_n22(input[0][32]);
    out[8] += multiply_7(input[0][33]);
    out[8] += multiply_25(input[0][34]);
    out[8] += multiply_16(input[0][35]);
    out[8] += multiply_20(input[0][36]);
    out[8] += multiply_n20(input[0][37]);
    out[8] += multiply_n51(input[0][38]);
    out[8] += multiply_24(input[0][39]);
    out[8] += input[0][40];
    out[8] += multiply_45(input[0][41]);
    out[8] += multiply_56(input[0][42]);
    out[8] += multiply_n48(input[0][43]);
    out[8] += multiply_n20(input[0][44]);
    out[8] += multiply_n23(input[0][45]);
    out[8] += multiply_n36(input[0][46]);
    out[8] += multiply_5(input[0][47]);
    out[8] += multiply_6(input[0][48]);
    out[8] += multiply_n21(input[0][49]);
    out[8] += multiply_n5(input[0][50]);
    out[8] += multiply_n31(input[0][51]);
    out[8] += multiply_20(input[0][52]);
    out[8] += multiply_n28(input[0][53]);
    out[8] += multiply_n36(input[0][54]);
    out[8] += multiply_4(input[0][55]);
    out[8] += multiply_n23(input[0][56]);
    out[8] += multiply_9(input[0][57]);
    out[8] += multiply_18(input[0][58]);
    out[8] += multiply_n17(input[0][59]);
    out[8] += multiply_n37(input[0][60]);
    out[8] += multiply_n16(input[0][61]);
    out[8] += multiply_33(input[0][62]);
    out[8] += multiply_n41(input[0][63]);
    out[8] += multiply_37(input[0][64]);
    out[8] += multiply_4(input[0][65]);
    out[8] += multiply_36(input[0][66]);
    out[8] += multiply_37(input[0][67]);
    out[8] += multiply_17(input[0][68]);
    out[8] += multiply_n26(input[0][69]);
    out[8] += multiply_29(input[0][70]);
    out[8] += multiply_29(input[0][71]);
    out[9] = 0;
    out[9] += multiply_n34(input[0][0]);
    out[9] += multiply_n4(input[0][1]);
    out[9] += multiply_n21(input[0][2]);
    out[9] += multiply_n21(input[0][3]);
    out[9] += multiply_32(input[0][4]);
    out[9] += multiply_n1(input[0][5]);
    out[9] += multiply_n38(input[0][6]);
    out[9] += multiply_49(input[0][7]);
    out[9] += multiply_n43(input[0][8]);
    out[9] += multiply_n4(input[0][9]);
    out[9] += multiply_n35(input[0][10]);
    out[9] += multiply_n32(input[0][11]);
    out[9] += multiply_n45(input[0][12]);
    out[9] += multiply_14(input[0][13]);
    out[9] += multiply_n16(input[0][14]);
    out[9] += multiply_26(input[0][15]);
    out[9] += multiply_n49(input[0][16]);
    out[9] += multiply_71(input[0][17]);
    out[9] += multiply_30(input[0][18]);
    out[9] += multiply_66(input[0][19]);
    out[9] += multiply_6(input[0][20]);
    out[9] += multiply_n1(input[0][21]);
    out[9] += multiply_n4(input[0][22]);
    out[9] += multiply_n30(input[0][23]);
    out[9] += multiply_26(input[0][24]);
    out[9] += multiply_n24(input[0][25]);
    out[9] += multiply_2(input[0][26]);
    out[9] += multiply_n21(input[0][27]);
    out[9] += multiply_42(input[0][28]);
    out[9] += multiply_n18(input[0][29]);
    out[9] += multiply_n26(input[0][30]);
    out[9] += multiply_41(input[0][31]);
    out[9] += multiply_48(input[0][32]);
    out[9] += multiply_13(input[0][33]);
    out[9] += multiply_13(input[0][34]);
    out[9] += multiply_n41(input[0][35]);
    out[9] += multiply_n7(input[0][36]);
    out[9] += multiply_n7(input[0][37]);
    out[9] += multiply_29(input[0][38]);
    out[9] += multiply_n64(input[0][39]);
    out[9] += multiply_6(input[0][40]);
    out[9] += multiply_34(input[0][41]);
    out[9] += multiply_n22(input[0][42]);
    out[9] += multiply_n17(input[0][43]);
    out[9] += multiply_53(input[0][44]);
    out[9] += multiply_n86(input[0][45]);
    out[9] += multiply_15(input[0][46]);
    out[9] += multiply_n55(input[0][47]);
    out[9] += multiply_21(input[0][48]);
    out[9] += multiply_n39(input[0][49]);
    out[9] += multiply_n8(input[0][50]);
    out[9] += multiply_n14(input[0][51]);
    out[9] += multiply_n66(input[0][52]);
    out[9] += multiply_9(input[0][53]);
    out[9] += multiply_n28(input[0][54]);
    out[9] += multiply_n3(input[0][55]);
    out[9] += multiply_n23(input[0][56]);
    out[9] += multiply_n43(input[0][57]);
    out[9] += multiply_n43(input[0][59]);
    out[9] += multiply_n25(input[0][60]);
    out[9] += multiply_n35(input[0][61]);
    out[9] += multiply_n28(input[0][62]);
    out[9] += multiply_54(input[0][63]);
    out[9] += multiply_n14(input[0][64]);
    out[9] += multiply_32(input[0][65]);
    out[9] += multiply_n14(input[0][66]);
    out[9] += multiply_n29(input[0][67]);
    out[9] += multiply_n6(input[0][68]);
    out[9] += multiply_n9(input[0][69]);
    out[9] += multiply_39(input[0][70]);
    out[9] += multiply_33(input[0][71]);
}
void fully_connected(int8_t input[1][72], int8_t output[10]){
    const int8_t weights[10][72] = {
        { 29, -14, -9, 18, 3, -40, 22, 15, 4, -15, 5, -21, -35, 15, -32, 2, -9, 2, 34, -22, 50, 3, 14, 16, -17, 23, 10, 20, 33, -26, -4, -82, -11, -51, 37, 0, 33, -16, 11, -2, 34, -53, -127, -19, -28, 23, 39, -2, 27, -27, 16, -48, 51, -7, -2, 37, 12, 10, -16, -36, -10, 18, 20, 5, 64, 4, -25, -2, -23, -27, 15, 32, },
        { -3, 10, 22, -5, 24, -24, 19, -40, 12, -18, -16, 41, -10, 38, 16, -20, -30, -17, 14, -15, -37, -53, 19, -32, 26, 25, -10, -31, -43, 20, 90, 19, 18, -69, -59, -34, 26, -1, -38, -27, -14, -20, 72, -17, -41, -66, -16, 23, 12, -9, -3, 0, -13, 17, 91, -37, -42, -5, -5, -25, 6, -10, 27, -1, 12, -18, -42, -13, 39, 7, 43, -18, },
        { -5, -4, 8, 2, -2, 11, 12, 5, -17, -19, -12, -22, 19, 30, 29, 22, 38, -13, 13, -24, 5, -44, -4, -32, 2, -32, -36, 53, -80, 34, -45, 10, 5, -27, 33, -32, 8, 48, -72, 54, -18, 40, 17, 59, -5, -5, -23, 80, 31, 16, 36, -15, 44, 17, 26, 14, -9, 55, 9, 91, -15, -22, -3, 16, 11, 8, -41, 6, 4, -4, 3, -12, },
        { -25, 45, -1, 25, 12, 22, 9, -15, -34, -29, -37, -37, 33, 38, 39, 21, -8, 31, 12, 14, 41, -45, 31, -50, -9, -35, -74, 37, -95, 81, 47, 59, -6, 3, -21, -28, 30, 17, -53, 22, -27, -17, -8, 19, 5, 5, -13, 32, 49, 3, 13, 19, -49, 52, -52, 59, 35, 38, -2, -55, 61, -15, 11, 24, 5, 65, 8, 8, 15, 9, 8, -8, },
        { -7, 11, -32, 41, -19, -22, -25, -22, 15, 0, 30, 21, 6, 26, -14, -41, 37, -55, -7, -105, -19, 0, 21, 10, 21, -41, 14, 6, 101, -13, -7, -11, 72, -30, -11, 5, 21, 10, 51, -12, 52, -12, 10, 33, 65, -12, 19, 4, -26, -40, -45, -2, -68, -8, -10, -41, -52, -64, -23, 13, 34, -14, -41, 30, -10, 27, 8, -63, 17, 16, 21, 34, },
        { 25, -27, -1, 4, 3, -5, -45, 16, 35, -15, -14, 35, -18, 23, -13, -21, 37, 19, 18, 2, -7, 14, 20, 118, -18, -21, 10, -48, 88, 5, 29, 36, -92, 43, -115, 66, 23, 21, 18, -21, 10, -40, -52, -1, -39, -31, -39, -3, 8, 26, 16, 70, -31, 63, -15, 53, -2, -1, 52, 5, -26, 17, -51, 24, 5, 63, -1, 53, 13, -2, 3, 7, },
        { -37, -7, 13, -1, 12, -23, 9, 1, 52, -18, 36, 29, 18, -15, 1, -57, -21, 7, -41, -1, -57, -21, -31, 4, 14, -21, -3, 5, 36, -27, -12, 42, -86, 36, 22, 0, -44, -8, 18, -38, 37, -7, 18, 11, -19, -12, 25, -23, -15, -50, 14, -73, 104, -23, 56, 49, 26, 18, 24, -40, -6, 20, -49, -31, 9, -46, -46, -40, -8, -9, -19, -17, },
        { -5, 7, 1, 15, 16, -27, -21, -24, -69, -3, -35, -11, 43, -11, 49, 22, 71, 25, 49, 37, 28, 32, 26, -9, 52, -17, -1, 1, -55, 2, -10, -27, 91, -17, -13, -10, 2, -10, -6, 1, -86, -29, -58, 40, 76, -13, 19, -18, 20, 14, -42, -25, -33, -2, -18, -42, -40, -32, -19, -51, -28, -24, 24, 62, -6, 10, 43, -30, -21, -20, -42, 34, },
        { -38, -13, 27, -10, -7, 8, 9, 8, -11, 23, -4, -6, -19, 40, 18, -6, -5, 19, -16, -25, -11, -11, 5, 51, 5, -3, 22, -36, 62, -38, -10, 33, -22, 7, 25, 16, 20, -20, -51, 24, 1, 45, 56, -48, -20, -23, -36, 5, 6, -21, -5, -31, 20, -28, -36, 4, -23, 9, 18, -17, -37, -16, 33, -41, 37, 4, 36, 37, 17, -26, 29, 29, },
        { -34, -4, -21, -21, 32, -1, -38, 49, -43, -4, -35, -32, -45, 14, -16, 26, -49, 71, 30, 66, 6, -1, -4, -30, 26, -24, 2, -21, 42, -18, -26, 41, 48, 13, 13, -41, -7, -7, 29, -64, 6, 34, -22, -17, 53, -86, 15, -55, 21, -39, -8, -14, -66, 9, -28, -3, -23, -43, 0, -43, -25, -35, -28, 54, -14, 32, -14, -29, -6, -9, 39, 33, },
    };
    const int32_t bias[10] = { -7025, -32464, 42253, 46566, -15872, 49541, -43402, -18417, 3873, -49757, };
    const int8_t output_zero_point = -18;
    const int8_t input_zero_point = -128;
    const int8_t weight_zero_point = 0;
    const int8_t bias_zero_point = 0;
    const int32_t q_mantissa = 2072683058;
    const int32_t exponent = -9;
    int32_t dot_result[10] = {0};
    dot_product(input, dot_result);
    for(int i = 0; i < 10; i++){
        dot_result[i] = dot_result[i] + bias[i];
        dot_result[i] = multiply_by_quantize_mul(dot_result[i], q_mantissa, exponent);
        dot_result[i] += output_zero_point;
        dot_result[i] = dot_result[i] > 127 ? 127 : dot_result[i];
        dot_result[i] = dot_result[i] < -128 ? -128 : dot_result[i];
        output[i] = dot_result[i];
    }
}

